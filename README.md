# AI Review - æ™ºèƒ½ä»£ç å®¡æŸ¥åŠ©æ‰‹

ä¸€ä¸ªåŸºäº Rust + Tauri æ„å»ºçš„è·¨å¹³å°èŠå¤©çª—å£åº”ç”¨ï¼Œæ”¯æŒå‘½ä»¤è¡Œä¸UIå®æ—¶äº¤äº’ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- ğŸ–¥ï¸ **è·¨å¹³å°æ¡Œé¢åº”ç”¨** - åŸºäº Tauri æ¡†æ¶ï¼Œæ”¯æŒ Windowsã€macOSã€Linux
- ğŸ“¡ **å‘½ä»¤è¡Œä¸UIé€šä¿¡** - é€šè¿‡ IPC (è¿›ç¨‹é—´é€šä¿¡) å®ç°å®æ—¶æ¶ˆæ¯ä¼ é€’
- ğŸ”” **ç³»ç»Ÿçº§é€šçŸ¥** - æ”¶åˆ°æ–°æ¶ˆæ¯æ—¶æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥
- ğŸªŸ **æ™ºèƒ½å¼¹çª—** - è‡ªåŠ¨åˆ›å»ºç½®é¡¶çš„å¿«é€Ÿå›å¤çª—å£
- â±ï¸ **å¯é…ç½®è¶…æ—¶** - æ”¯æŒè‡ªå®šä¹‰ç­‰å¾…å›å¤çš„æœ€å¤§æ—¶é—´
- âŒ¨ï¸ **å¿«æ·é”®æ”¯æŒ** - Ctrl/Cmd+Enter å‘é€ï¼ŒEscape å–æ¶ˆ
- ğŸ¯ **å®æ—¶å€’è®¡æ—¶** - æ˜¾ç¤ºå‰©ä½™å›å¤æ—¶é—´
- ğŸš€ **è‡ªåŠ¨CLIå®‰è£…** - macOSåº”ç”¨å®‰è£…åè‡ªåŠ¨è®¾ç½®å…¨å±€CLIå‘½ä»¤

### ğŸ¨ Vue 3 ç•Œé¢æ–°ç‰¹æ€§

- âœ¨ **ç°ä»£åŒ–è®¾è®¡** - æ¸å˜èƒŒæ™¯ã€å¡ç‰‡å¼å¸ƒå±€ã€æµç•…åŠ¨ç”»
- ğŸ“± **å“åº”å¼ç•Œé¢** - é€‚é…ä¸åŒçª—å£å¤§å°å’Œè®¾å¤‡
- ğŸš¨ **æ™ºèƒ½æé†’** - å‰©ä½™æ—¶é—´ä¸è¶³æ—¶çº¢è‰²é—ªçƒè­¦å‘Š
- ğŸ“ **å­—ç¬¦è®¡æ•°** - å®æ—¶æ˜¾ç¤ºè¾“å…¥é•¿åº¦ï¼Œè¶…é•¿æé†’
- ğŸ® **å®Œæ•´å¿«æ·é”®** - å…¨é”®ç›˜æ“ä½œæ”¯æŒ
- ğŸ”„ **çŠ¶æ€ç®¡ç†** - æ¸…æ™°çš„ç­‰å¾…ã€å¤„ç†ã€ç´§æ€¥çŠ¶æ€æ˜¾ç¤º

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä½¿ç”¨é¢„ç¼–è¯‘çš„macOSåº”ç”¨ï¼ˆæ¨èï¼‰

#### 1. ä¸‹è½½å¹¶å®‰è£…

1. ä» [Releases](https://github.com/imhuso/ai-review/releases) é¡µé¢ä¸‹è½½æœ€æ–°çš„ `AI Review_x.x.x_x64.dmg` æ–‡ä»¶
2. åŒå‡» DMG æ–‡ä»¶ï¼Œå°† `AI Review.app` æ‹–æ‹½åˆ° `Applications` æ–‡ä»¶å¤¹
3. é¦–æ¬¡å¯åŠ¨åº”ç”¨æ—¶ï¼ŒCLIå‘½ä»¤ä¼šè‡ªåŠ¨å®‰è£…åˆ°ç³»ç»Ÿ

#### 2. ä½¿ç”¨CLIå‘½ä»¤

å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨ä»»ä½•ç»ˆç«¯ä¸­ä½¿ç”¨ `ai-review-cli` å‘½ä»¤ï¼š

```bash
# è·å–å¸®åŠ©ä¿¡æ¯
ai-review-cli help

# å‘é€æ¶ˆæ¯ï¼ˆé»˜è®¤30ç§’è¶…æ—¶ï¼‰
ai-review-cli "è¯·å¸®æˆ‘å®¡æŸ¥è¿™æ®µä»£ç "

# è‡ªå®šä¹‰è¶…æ—¶æ—¶é—´
ai-review-cli "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ¶ˆæ¯" --timeout 60

# è·å–åˆå§‹åŒ–æç¤º
ai-review-cli init

# æŸ¥çœ‹ç‰ˆæœ¬
ai-review-cli --version
```

#### 3. CLIå‘½ä»¤è¯¦ç»†è¯´æ˜

```bash
ai-review-cli [MESSAGE] [OPTIONS]

å‚æ•°:
  MESSAGE                è¦å‘é€ç»™UIåº”ç”¨çš„æ¶ˆæ¯ (é»˜è®¤: 'init')

é€‰é¡¹:
  -t, --timeout <SECONDS>  è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤30ç§’
  -h, --help              æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  -V, --version           æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯

ç‰¹æ®Šå‘½ä»¤:
  help                    æ˜¾ç¤ºè¯¦ç»†å¸®åŠ©ä¿¡æ¯
  init                    è·å–AI Reviewåˆå§‹åŒ–æç¤º

ç¤ºä¾‹:
  ai-review-cli                          # è·å–é»˜è®¤å¸®åŠ©ä¿¡æ¯
  ai-review-cli help                     # æ˜¾ç¤ºè¯¦ç»†å¸®åŠ©
  ai-review-cli init                     # è·å–åˆå§‹åŒ–æç¤º
  ai-review-cli "ä½ å¥½"                    # å‘é€è‡ªå®šä¹‰æ¶ˆæ¯
  ai-review-cli "åˆ†æä»£ç " -t 60           # å‘é€æ¶ˆæ¯å¹¶è®¾ç½®60ç§’è¶…æ—¶
```

### æ–¹å¼äºŒï¼šä»æºç ç¼–è¯‘

#### ç¯å¢ƒè¦æ±‚

- Rust 1.70+
- Node.js 18+ (ç”¨äºå‰ç«¯æ„å»º)
- pnpm (æ¨è) æˆ– npm
- ç³»ç»Ÿä¾èµ–ï¼š
  - **macOS**: Xcode Command Line Tools
  - **Linux**: `webkit2gtk-4.0-dev`, `libappindicator3-dev`
  - **Windows**: æ— éœ€é¢å¤–ä¾èµ–

#### ç¼–è¯‘æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/imhuso/ai-review.git
cd ai-review

# 2. å®‰è£…å‰ç«¯ä¾èµ–
pnpm install

# 3. æ„å»ºå‰ç«¯èµ„æº
pnpm run build

# 4. ç¼–è¯‘Tauriåº”ç”¨
cargo tauri build
```

#### å®‰è£…ç¼–è¯‘åçš„åº”ç”¨

```bash
# è¿è¡Œå®‰è£…è„šæœ¬ï¼ˆmacOSï¼‰
./install.sh
```

å®‰è£…è„šæœ¬ä¼šï¼š
- å°†åº”ç”¨å®‰è£…åˆ° `/Applications/AI Review.app`
- åˆ›å»ºå…¨å±€CLIå‘½ä»¤ `ai-review-cli`
- éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ

## ğŸ“– ä½¿ç”¨è¯´æ˜

### åŸºæœ¬å·¥ä½œæµç¨‹

1. **å¯åŠ¨åº”ç”¨**: 
   - ä»å¯åŠ¨å°æˆ–åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹æ‰“å¼€ `AI Review`
   - æˆ–è€…åœ¨ç»ˆç«¯è¿è¡Œ `open "/Applications/AI Review.app"`

2. **å‘é€æ¶ˆæ¯**: 
   ```bash
   ai-review-cli "è¯·å¸®æˆ‘å®¡æŸ¥è¿™æ®µä»£ç "
   ```

3. **æ¥æ”¶å’Œå›å¤**:
   - åº”ç”¨ä¼šæ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥
   - å¼¹å‡ºç½®é¡¶çš„å¿«é€Ÿå›å¤çª—å£
   - åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥å›å¤
   - æŒ‰ `Cmd + Enter` å‘é€æˆ– `Escape` å–æ¶ˆ

4. **æŸ¥çœ‹ç»“æœ**:
   - å‘½ä»¤è¡Œä¼šæ˜¾ç¤ºæ‚¨çš„å›å¤
   - çª—å£è‡ªåŠ¨å…³é—­

### UIç•Œé¢æ“ä½œ

1. **æ¥æ”¶æ¶ˆæ¯**: å½“å‘½ä»¤è¡Œå‘é€æ¶ˆæ¯æ—¶ï¼Œä¼šï¼š
   - æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥
   - å¼¹å‡ºç½®é¡¶çš„å¿«é€Ÿå›å¤çª—å£
   - æ˜¾ç¤ºæ¶ˆæ¯å†…å®¹å’Œå‰©ä½™æ—¶é—´

2. **å›å¤æ¶ˆæ¯**:
   - åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥å›å¤
   - ç‚¹å‡»"å‘é€å›å¤"æˆ–æŒ‰ `Cmd + Enter`
   - çª—å£ä¼šè‡ªåŠ¨å…³é—­

3. **å–æ¶ˆæ“ä½œ**:
   - ç‚¹å‡»"å–æ¶ˆ"æŒ‰é’®æˆ–æŒ‰ `Escape` é”®
   - å‘½ä»¤è¡Œä¼šæ”¶åˆ°å–æ¶ˆæ¶ˆæ¯

### å¿«æ·é”®

- `Cmd + Enter` (macOS) / `Ctrl + Enter` (Windows/Linux): å‘é€å›å¤
- `Escape`: å–æ¶ˆå½“å‰è¯·æ±‚

### é…ç½®ç®¡ç†

åº”ç”¨æ”¯æŒè‡ªå®šä¹‰åˆå§‹åŒ–æç¤ºè¯ï¼š

1. åœ¨UIç•Œé¢ä¸­ç‚¹å‡»è®¾ç½®æŒ‰é’®
2. ä¿®æ”¹åˆå§‹åŒ–æç¤ºè¯
3. ä¿å­˜åï¼Œä½¿ç”¨ `ai-review-cli init` å¯è·å–è‡ªå®šä¹‰æç¤º

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. CLIå‘½ä»¤æœªæ‰¾åˆ°

```bash
# æ£€æŸ¥CLIæ˜¯å¦å·²å®‰è£…
which ai-review-cli

# å¦‚æœæœªæ‰¾åˆ°ï¼Œæ‰‹åŠ¨åˆ›å»ºç¬¦å·é“¾æ¥
sudo ln -s "/Applications/AI Review.app/Contents/MacOS/ai-review-cli" /usr/local/bin/ai-review-cli

# ç¡®ä¿ /usr/local/bin åœ¨PATHä¸­
echo $PATH
```

#### 2. åº”ç”¨æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥åº”ç”¨æ˜¯å¦å­˜åœ¨
ls -la "/Applications/AI Review.app"

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
Console.app # æœç´¢ "AI Review"
```

#### 3. IPCè¿æ¥å¤±è´¥

```bash
# ç¡®ä¿UIåº”ç”¨æ­£åœ¨è¿è¡Œ
ps aux | grep ai-review

# é‡å¯åº”ç”¨
killall "AI Review"
open "/Applications/AI Review.app"
```

#### 4. æƒé™é—®é¢˜

```bash
# ç»™äºˆåº”ç”¨æ‰§è¡Œæƒé™
chmod +x "/Applications/AI Review.app/Contents/MacOS/ai-review-ui"
chmod +x "/Applications/AI Review.app/Contents/MacOS/ai-review-cli"
```

### å¸è½½

```bash
# åˆ é™¤åº”ç”¨
rm -rf "/Applications/AI Review.app"

# åˆ é™¤CLIå‘½ä»¤
sudo rm -f /usr/local/bin/ai-review-cli

# åˆ é™¤é…ç½®æ–‡ä»¶
rm -rf ~/Library/Application\ Support/com.imhuso.ai-review
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
ai-review/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs              # UIåº”ç”¨ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ cli.rs               # å‘½ä»¤è¡Œå·¥å…·
â”‚   â””â”€â”€ ipc.rs               # è¿›ç¨‹é—´é€šä¿¡æ¨¡å—
â”œâ”€â”€ src-tauri/               # Taurié…ç½®
â”œâ”€â”€ dist/                    # å‰ç«¯æ„å»ºè¾“å‡º
â”œâ”€â”€ scripts/                 # å®‰è£…è„šæœ¬
â”‚   â””â”€â”€ postinstall.sh       # å®‰è£…åè„šæœ¬
â”œâ”€â”€ target/release/bundle/   # ç¼–è¯‘è¾“å‡º
â”‚   â”œâ”€â”€ macos/              # macOSåº”ç”¨åŒ…
â”‚   â””â”€â”€ dmg/                # DMGå®‰è£…åŒ…
â”œâ”€â”€ Cargo.toml              # Rusté¡¹ç›®é…ç½®
â”œâ”€â”€ tauri.conf.json         # Tauriåº”ç”¨é…ç½®
â”œâ”€â”€ package.json            # å‰ç«¯é¡¹ç›®é…ç½®
â”œâ”€â”€ install.sh              # å®‰è£…è„šæœ¬
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ§ª æµ‹è¯•

### åŠŸèƒ½æµ‹è¯•

```bash
# 1. å¯åŠ¨åº”ç”¨
open "/Applications/AI Review.app"

# 2. æµ‹è¯•åŸºæœ¬åŠŸèƒ½
ai-review-cli "æµ‹è¯•æ¶ˆæ¯"

# 3. æµ‹è¯•è¶…æ—¶åŠŸèƒ½
ai-review-cli "é•¿æ—¶é—´æµ‹è¯•" --timeout 10

# 4. æµ‹è¯•åˆå§‹åŒ–
ai-review-cli init

# 5. æµ‹è¯•å¸®åŠ©
ai-review-cli help
```

### å¼€å‘æµ‹è¯•

```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
cargo tauri dev

# è¿è¡Œæµ‹è¯•
cargo test

# æ£€æŸ¥ä»£ç æ ¼å¼
cargo fmt --check

# ä»£ç æ£€æŸ¥
cargo clippy
```

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **åç«¯**: Rust + Tauri 2.0
- **å‰ç«¯**: Vue 3 + Vite + Ant Design Vue
- **é€šä¿¡**: Unix Domain Socket (IPC)
- **é€šçŸ¥**: notify-rust + Tauri é€šçŸ¥ç³»ç»Ÿ
- **æ„å»º**: Tauri Bundle + DMG

### å…³é”®ç‰¹æ€§

1. **IPCé€šä¿¡**: ä½¿ç”¨ Unix Domain Socket å®ç°å‘½ä»¤è¡Œä¸UIçš„åŒå‘é€šä¿¡
2. **å¼‚æ­¥å¤„ç†**: åŸºäº Tokio çš„å¼‚æ­¥è¿è¡Œæ—¶
3. **çª—å£ç®¡ç†**: åŠ¨æ€åˆ›å»ºå’Œç®¡ç†å¼¹çª—çª—å£
4. **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ Tauri çš„çŠ¶æ€ç®¡ç†ç³»ç»Ÿ
5. **è¶…æ—¶æ§åˆ¶**: æ”¯æŒè‡ªå®šä¹‰è¶…æ—¶æ—¶é—´å’Œå®æ—¶å€’è®¡æ—¶
6. **è‡ªåŠ¨å®‰è£…**: åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…CLIå‘½ä»¤

### å®‰å…¨ç‰¹æ€§

- åº”ç”¨ç­¾åï¼ˆå¯é€‰ï¼‰
- æ²™ç›’ç¯å¢ƒæ”¯æŒ
- æƒé™æœ€å°åŒ–åŸåˆ™
- å®‰å…¨çš„IPCé€šä¿¡

## ğŸ“ å¼€å‘è¯´æ˜

### æ·»åŠ æ–°åŠŸèƒ½

1. **åç«¯åŠŸèƒ½**: åœ¨ `src/main.rs` ä¸­æ·»åŠ æ–°çš„ Tauri å‘½ä»¤
2. **å‰ç«¯åŠŸèƒ½**: åœ¨å‰ç«¯ç»„ä»¶ä¸­æ·»åŠ æ–°çš„ç•Œé¢å…ƒç´ 
3. **IPCæ‰©å±•**: åœ¨ `src/ipc.rs` ä¸­æ‰©å±•æ¶ˆæ¯ç±»å‹
4. **CLIæ‰©å±•**: åœ¨ `src/cli.rs` ä¸­æ·»åŠ æ–°çš„å‘½ä»¤è¡Œé€‰é¡¹

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
RUST_LOG=debug cargo tauri dev

# å¯ç”¨ Rust å›æº¯
RUST_BACKTRACE=1 cargo tauri dev

# å‰ç«¯å¼€å‘æœåŠ¡å™¨
pnpm run dev
```

### å‘å¸ƒæµç¨‹

```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·
# ç¼–è¾‘ Cargo.toml, package.json, tauri.conf.json

# 2. æ„å»ºå‘å¸ƒç‰ˆæœ¬
cargo tauri build

# 3. æµ‹è¯•å®‰è£…åŒ…
./install.sh

# 4. åˆ›å»ºå‘å¸ƒ
# ä¸Šä¼  target/release/bundle/dmg/*.dmg åˆ° GitHub Releases
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ”— ç›¸å…³é“¾æ¥

- [é¡¹ç›®ä»“åº“](https://github.com/imhuso/ai-review)
- [é—®é¢˜åé¦ˆ](https://github.com/imhuso/ai-review/issues)
- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app/)
- [Rust å®˜æ–¹ç½‘ç«™](https://www.rust-lang.org/)
- [Vue 3 æ–‡æ¡£](https://vuejs.org/)

---

**æ³¨æ„**: 
- ç¡®ä¿åœ¨ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·ä¹‹å‰å…ˆå¯åŠ¨UIåº”ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°è¿æ¥é”™è¯¯
- é¦–æ¬¡å®‰è£…åå¯èƒ½éœ€è¦é‡å¯ç»ˆç«¯ä»¥ä½¿CLIå‘½ä»¤ç”Ÿæ•ˆ
- å¦‚é‡åˆ°æƒé™é—®é¢˜ï¼Œè¯·æ£€æŸ¥ç³»ç»Ÿå®‰å…¨è®¾ç½®å¹¶å…è®¸åº”ç”¨è¿è¡Œ
