# AI Review

[English](./README_EN.md) | ç®€ä½“ä¸­æ–‡

AI Review æ˜¯ä¸€ä¸ªåŸºäº MCP (Model Context Protocol) çš„æ™ºèƒ½ä»£ç å®¡æŸ¥å·¥å…·ï¼Œæä¾›å¼¹çª—äº¤äº’å’Œè®°å¿†ç®¡ç†åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¯ **MCP æ ‡å‡†å…¼å®¹**: å®Œå…¨ç¬¦åˆ MCP 2024-11-05 åè®®è§„èŒƒ
- ğŸ¨ **ç¾è§‚çš„å¼¹çª—ç•Œé¢**: ä½¿ç”¨ Vue 3 + Tailwind CSS æ„å»ºçš„ç°ä»£åŒ–UI
- ğŸ”’ **å®‰å…¨çš„ Markdown æ¸²æŸ“**: æ”¯æŒä»£ç é«˜äº®å’Œå®‰å…¨çš„å†…å®¹æ¸²æŸ“
- ğŸ–¥ï¸ **åŸç”Ÿåº”ç”¨ä½“éªŒ**: åŸºäº Tauri çš„è·¨å¹³å°æ¡Œé¢åº”ç”¨
- âš¡ **é«˜æ•ˆé€šä¿¡**: ä½¿ç”¨è¿›ç¨‹é—´é€šä¿¡ï¼Œå“åº”è¿…é€Ÿ
- ğŸ› ï¸ **çµæ´»äº¤äº’**: æ”¯æŒé¢„å®šä¹‰é€‰é¡¹ã€å¤šé€‰å’Œè‡ªç”±æ–‡æœ¬è¾“å…¥
- ğŸ§  **å…¨å±€è®°å¿†ç®¡ç†**: æ™ºèƒ½å­˜å‚¨å’Œç®¡ç†å¼€å‘è§„èŒƒã€ç”¨æˆ·åå¥½å’Œæœ€ä½³å®è·µ
- ğŸ“· **å›¾ç‰‡æ”¯æŒ**: æ”¯æŒå›¾ç‰‡ä¸Šä¼ å’ŒBase64å¤„ç†

## ğŸ“¸ åŠŸèƒ½æ¼”ç¤º

### æ™ºèƒ½å¼¹çª—ç•Œé¢

![AI Review å¼¹çª—æ¼”ç¤º](./screenshots/demo.png)

*AI Review çš„ç°ä»£åŒ–å¼¹çª—ç•Œé¢ï¼Œæ”¯æŒ Markdown æ¸²æŸ“ã€ä»£ç é«˜äº®ã€é¢„å®šä¹‰é€‰é¡¹å’Œè‡ªç”±æ–‡æœ¬è¾“å…¥*

## ğŸš€ å¿«é€Ÿå¼€å§‹

### macOS å®‰è£…æ–¹å¼

```bash
# 1. å®‰è£…å‰ç«¯ä¾èµ–
pnpm install

# 2. æ„å»ºé¡¹ç›®
cargo build --release

# 3. å…¨å±€å®‰è£…ï¼ˆæ¨èï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
./install.sh

# 4. éªŒè¯å®‰è£…
which ai-review-mcp
```

### Windows å®‰è£…æ–¹å¼ï¼ˆæœªæµ‹è¯•ï¼‰

```powershell
# 1. å®‰è£…å‰ç«¯ä¾èµ–
pnpm install

# 2. æ„å»ºé¡¹ç›®
cargo build --release

# 3. æ‰‹åŠ¨å¤åˆ¶å¯æ‰§è¡Œæ–‡ä»¶åˆ°ç³»ç»ŸPATH
# å°† target\release\ai-review-mcp.exe å¤åˆ¶åˆ° C:\Windows\System32\ æˆ–å…¶ä»–PATHç›®å½•

# 4. éªŒè¯å®‰è£…
where ai-review-mcp
```

### æœ¬åœ°å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. å¼€å‘æ¨¡å¼è¿è¡Œå‰ç«¯
pnpm dev

# 3. æ„å»ºå¹¶è¿è¡Œ MCP æœåŠ¡å™¨
cargo build --release
./target/release/ai-review-mcp  # macOS/Linux
# æˆ–
.\target\release\ai-review-mcp.exe  # Windows
```

## ğŸ“‹ å·¥ä½œæµç¨‹

### ç³»ç»Ÿæ¶æ„

```
AI IDE/Claude Desktop
        â†“ (MCP è°ƒç”¨)
AI Review MCP æœåŠ¡å™¨
        â†“ (å¯åŠ¨å¼¹çª—)
Tauri åº”ç”¨ (Vue + Tailwind CSS)
        â†“ (ç”¨æˆ·äº¤äº’)
å“åº”è¿”å›ç»™ MCP æœåŠ¡å™¨
```

### é€šä¿¡æ–¹å¼

- **MCP åè®®**: JSON-RPC 2.0 over stdio
- **å¼¹çª—å¯åŠ¨**: ç›´æ¥è°ƒç”¨ Tauri åº”ç”¨
- **ç”¨æˆ·ç•Œé¢**: åŸç”Ÿ Tauri åº”ç”¨ (Vue + Tailwind CSS)
- **å“åº”ä¼ é€’**: è¿›ç¨‹é—´é€šä¿¡ï¼Œå®æ—¶å“åº”

## ğŸ› ï¸ MCP å·¥å…·

### 1. ai_review_chat - æ™ºèƒ½äº¤äº’å·¥å…·

å¼¹çª—äº¤äº’å·¥å…·ï¼Œæ”¯æŒå¤šç§è¾“å…¥æ–¹å¼å’ŒMarkdownæ¸²æŸ“ã€‚

**ä¸»è¦å‚æ•°**ï¼š
- `message` (å¿…éœ€): æ˜¾ç¤ºç»™ç”¨æˆ·çš„æ¶ˆæ¯å†…å®¹
- `predefined_options` (å¯é€‰): é¢„å®šä¹‰é€‰é¡¹åˆ—è¡¨ï¼Œæ”¯æŒå¤šé€‰
- `is_markdown` (å¯é€‰): æ˜¯å¦å¯ç”¨Markdownæ ¼å¼æ¸²æŸ“

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… é¢„å®šä¹‰é€‰é¡¹å¤šé€‰ + è‡ªç”±æ–‡æœ¬è¾“å…¥
- âœ… å›¾ç‰‡ä¸Šä¼ å’ŒBase64å¤„ç†
- âœ… Markdownæ¸²æŸ“å’Œä»£ç é«˜äº®
- âœ… ç°ä»£åŒ–æš—é»‘ä¸»é¢˜UI

### 2. memory_manager - å…¨å±€è®°å¿†ç®¡ç†å·¥å…·

æ™ºèƒ½è®°å¿†ç®¡ç†ç³»ç»Ÿï¼ŒæŒ‰é¡¹ç›®å­˜å‚¨å¼€å‘è§„èŒƒå’Œåå¥½è®¾ç½®ã€‚

**ä¸»è¦å‚æ•°**ï¼š
- `action` (å¿…éœ€): æ“ä½œç±»å‹ - `add` æˆ– `get_project_info`
- `project_path` (å¿…éœ€): é¡¹ç›®è·¯å¾„ï¼ˆgitæ ¹ç›®å½•ï¼‰
- `content` (addæ—¶å¿…éœ€): è®°å¿†å†…å®¹
- `category` (å¯é€‰): åˆ†ç±» - `rule`/`preference`/`pattern`/`context`

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… æŒ‰é¡¹ç›®éš”ç¦»å­˜å‚¨è®°å¿†
- âœ… æ™ºèƒ½åˆ†ç±»ç®¡ç†ï¼ˆè§„èŒƒ/åå¥½/æ¨¡å¼/ä¸Šä¸‹æ–‡ï¼‰
- âœ… è‡ªåŠ¨è¯†åˆ«"è¯·è®°ä½ï¼š"å¹¶æ·»åŠ è®°å¿†

## ğŸ”§ é…ç½®

### Claude Desktop é…ç½®

#### å…¨å±€å®‰è£…åï¼ˆæ¨èï¼‰

åœ¨ `~/.config/claude-desktop/claude_desktop_config.json` ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "ai-review": {
      "command": "ai-review-mcp",
      "args": []
    }
  }
}
```

#### æœ¬åœ°è¿è¡Œ

```json
{
  "mcpServers": {
    "ai-review": {
      "command": "/path/to/ai-review/target/release/ai-review-mcp",
      "args": []
    }
  }
}
```

### Cursor é…ç½®

åœ¨ Cursor çš„ MCP è®¾ç½®ä¸­æ·»åŠ ï¼š

```json
{
  "name": "ai-review",
  "command": "ai-review-mcp"  // macOS/Linux
  // Windows: "command": "ai-review-mcp.exe"
}
```

### Windows é…ç½®è¯´æ˜ï¼ˆæœªæµ‹è¯•ï¼‰

Windows ç”¨æˆ·éœ€è¦ï¼š
1. ç¡®ä¿ `ai-review-mcp.exe` åœ¨ç³»ç»Ÿ PATH ä¸­
2. åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ `.exe` æ‰©å±•å
3. å¯èƒ½éœ€è¦ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼š`"C:\\path\\to\\ai-review-mcp.exe"`

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai-review/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs              # Tauri ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ mcp_server.rs        # MCP æœåŠ¡å™¨å®ç°
â”‚   â”œâ”€â”€ memory.rs            # è®°å¿†ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ McpPopup.vue     # MCP å¼¹çª—ç»„ä»¶
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ message.js       # æ¶ˆæ¯å¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ App.vue              # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.js              # å‰ç«¯å…¥å£
â”‚   â””â”€â”€ style.css            # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ postinstall.sh       # å®‰è£…åè„šæœ¬
â”œâ”€â”€ icons/
â”‚   â””â”€â”€ icon.png             # åº”ç”¨å›¾æ ‡
â”œâ”€â”€ install.sh               # å…¨å±€å®‰è£…è„šæœ¬
â”œâ”€â”€ Cargo.toml               # Rust ä¾èµ–
â”œâ”€â”€ package.json             # å‰ç«¯ä¾èµ–
â”œâ”€â”€ tauri.conf.json          # Tauri é…ç½®
â””â”€â”€ README.md                # é¡¹ç›®æ–‡æ¡£
```

## ğŸ§ª æµ‹è¯•

### åŠŸèƒ½æµ‹è¯•

```bash
# å¯åŠ¨ MCP æœåŠ¡å™¨è¿›è¡Œæµ‹è¯•
./target/release/ai-review-mcp

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯æµ‹è¯• MCP é€šä¿¡
echo '{"jsonrpc": "2.0", "id": 1, "method": "tools/list"}' | ./target/release/ai-review-mcp
```

### å¼¹çª—æµ‹è¯•

é€šè¿‡ Claude Desktop æˆ–å…¶ä»– MCP å®¢æˆ·ç«¯è°ƒç”¨ `ai_review_chat` å·¥å…·è¿›è¡Œæµ‹è¯•ã€‚

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å¼¹çª—æ— æ³•å¯åŠ¨**
   - æ£€æŸ¥åº”ç”¨æ˜¯å¦æ­£ç¡®å®‰è£…åˆ° `/Applications/AI Review.app`
   - ç¡®è®¤å‘½ä»¤è¡Œå·¥å…·é“¾æ¥æ˜¯å¦æ­£ç¡®ï¼š`which ai-review-mcp`
   - é‡æ–°è¿è¡Œå®‰è£…è„šæœ¬ï¼š`./install.sh`

2. **MCP æœåŠ¡å™¨æ— å“åº”**
   - æ£€æŸ¥å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š`./target/release/ai-review-mcp`
   - è¿è¡Œ `cargo build --release` é‡æ–°æ„å»º
   - æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š`RUST_LOG=debug ai-review-mcp`

3. **è®°å¿†ç®¡ç†é—®é¢˜**
   - ç¡®ä¿åœ¨ git ä»“åº“æ ¹ç›®å½•ä¸­ä½¿ç”¨
   - æ£€æŸ¥ `~/.ai-review/` ç›®å½•æƒé™

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
RUST_LOG=debug ai-review-mcp

# æŸ¥çœ‹è®°å¿†æ–‡ä»¶
ls -la ~/.ai-review/
```

## ğŸ› ï¸ å¼€å‘

### æ·»åŠ æ–°åŠŸèƒ½

1. **ä¿®æ”¹ MCP æœåŠ¡å™¨**: ç¼–è¾‘ `src/mcp_server.rs`
2. **æ›´æ–°å¼¹çª—ç•Œé¢**: ç¼–è¾‘ `src/components/McpPopup.vue`
3. **æµ‹è¯•æ›´æ”¹**: è¿è¡Œ `cargo build --release` é‡æ–°ç¼–è¯‘

### æ„å»ºå‘å¸ƒç‰ˆæœ¬

```bash
# æ„å»ºä¼˜åŒ–ç‰ˆæœ¬
cargo build --release

# æ„å»ºå®Œæ•´åº”ç”¨åŒ…
./install.sh --build-only
```

## ğŸ¤– AI ç”Ÿæˆè¯´æ˜

**é‡è¦æç¤º**: æœ¬é¡¹ç›®çš„æ‰€æœ‰ä»£ç å‡ç”± AI ç”Ÿæˆï¼Œéäººå·¥æ‰‹åŠ¨ç¼–å†™ã€‚åŒ…æ‹¬ä½†ä¸é™äºï¼š
- Rust åç«¯ä»£ç  (MCP æœåŠ¡å™¨ã€è®°å¿†ç®¡ç†)
- Vue å‰ç«¯ä»£ç  (å¼¹çª—ç•Œé¢ã€ç»„ä»¶)
- é…ç½®æ–‡ä»¶ (Tauriã€Viteã€ESLint ç­‰)
- æ–‡æ¡£å†…å®¹ (READMEã€æ³¨é‡Š)

è¿™æ˜¯ä¸€ä¸ªå±•ç¤º AI ä»£ç ç”Ÿæˆèƒ½åŠ›çš„é¡¹ç›®ï¼Œä»£ç è´¨é‡å’Œæœ€ä½³å®è·µå‡ç”± AI è‡ªä¸»å®Œæˆã€‚

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·åˆ›å»º GitHub Issue æˆ–è”ç³»ç»´æŠ¤è€…ã€‚
