# git-cliff é…ç½®æ–‡ä»¶
# ç”¨äºç”Ÿæˆç»“æ„åŒ–çš„ changelog

[changelog]
# changelog å¤´éƒ¨
header = """
# ğŸ“‹ æ›´æ–°æ—¥å¿—

æœ¬æ–‡æ¡£è®°å½•äº†é¡¹ç›®çš„æ‰€æœ‰é‡è¦å˜æ›´ã€‚

"""

# changelog ä¸»ä½“æ¨¡æ¿
body = """
{% if version -%}
    ## ğŸš€ {{ version | trim_start_matches(pat="v") }} - {{ timestamp | date(format="%Y-%m-%d") }}
{% else -%}
    ## ğŸš€ [æœªå‘å¸ƒ]
{% endif -%}

{% for group, commits in commits | group_by(attribute="group") %}
    ### {{ group | upper_first }}
    {% for commit in commits %}
        - {{ commit.message | upper_first | trim }}
    {% endfor %}
{% endfor -%}

"""

# changelog å°¾éƒ¨
footer = """
<!-- ç”± git-cliff è‡ªåŠ¨ç”Ÿæˆ -->
"""

# å»é™¤å¤šä½™ç©ºè¡Œ
trim = true

[git]
# è§£æå¸¸è§„æäº¤æ ¼å¼
conventional_commits = true
# è¿‡æ»¤éå¸¸è§„æäº¤
filter_unconventional = false
# åˆ†å‰²æäº¤ä¿¡æ¯
split_commits = false
# æäº¤è§£æå™¨
commit_parsers = [
    { message = "^feat", group = "âœ¨ æ–°åŠŸèƒ½" },
    { message = "^fix", group = "ğŸ› é—®é¢˜ä¿®å¤" },
    { message = "^doc", group = "ğŸ“š æ–‡æ¡£æ›´æ–°" },
    { message = "^perf", group = "âš¡ æ€§èƒ½ä¼˜åŒ–" },
    { message = "^refactor", group = "â™»ï¸ ä»£ç é‡æ„" },
    { message = "^style", group = "ğŸ’„ æ ·å¼æ›´æ–°" },
    { message = "^test", group = "ğŸ§ª æµ‹è¯•ç›¸å…³" },
    { message = "^chore\\(release\\): prepare for", skip = true },
    { message = "^chore\\(deps.*\\)", skip = true },
    { message = "^chore\\(pr\\)", skip = true },
    { message = "^chore\\(pull\\)", skip = true },
    { message = "^chore|^ci", group = "ğŸ”§ æ„å»º/å·¥å…·" },
    { message = "^revert", group = "âª å›æ»š" },
    # æ•è·æ‰€æœ‰å…¶ä»–æäº¤
    { message = ".*", group = "ğŸ“ å…¶ä»–æ›´æ–°" },
]

# æäº¤é¢„å¤„ç†å™¨ - æ¸…ç†æäº¤ä¿¡æ¯
commit_preprocessors = [
    # ç§»é™¤ issue ç¼–å·
    { pattern = ' #\d+$', replace = "" },
    # ç§»é™¤å¤šä½™ç©ºæ ¼
    { pattern = '\s+', replace = " " },
]

# ä¿æŠ¤åˆ†æ”¯
protect_breaking_commits = false
# è¿‡æ»¤æäº¤
filter_commits = false
# æ ‡ç­¾æ¨¡å¼
tag_pattern = "v[0-9].*"
# è·³è¿‡æ ‡ç­¾
skip_tags = "v0.1.0-beta.1"
# å¿½ç•¥æ ‡ç­¾
ignore_tags = ""
# æ’åºæ–¹å¼
topo_order = false
# æ’åºæäº¤
sort_commits = "oldest"

[remote.github]
owner = "imhuso"
repo = "cunzhi"
