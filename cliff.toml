# git-cliff é…ç½®æ–‡ä»¶
# ç”¨äºç”Ÿæˆç»“æ„åŒ–çš„ changelog

[changelog]
# changelog å¤´éƒ¨
header = ""

# changelog ä¸»ä½“æ¨¡æ¿ - æ¸…æ™°çš„ç»“æ„åŒ–æ ¼å¼
body = """
## What's Changed

{% for group, commits in commits | group_by(attribute="group") %}
### {{ group }}

{% for commit in commits -%}
* {{ commit.message | split(pat=":") | last | trim | upper_first }} by [@{{ commit.author.name }}](https://github.com/{{ commit.author.name }}) in [{{ commit.id | truncate(length=7, end="") }}](https://github.com/zoonderkins/cunzhi/commit/{{ commit.id }})
{% endfor %}
{% endfor -%}
"""

# changelog å°¾éƒ¨
footer = ""

# å»é™¤å¤šä½™ç©ºè¡Œ
trim = true

[git]
# è§£æå¸¸è§„æäº¤æ ¼å¼
conventional_commits = true
# è¿‡æ»¤éå¸¸è§„æäº¤
filter_unconventional = false
# åˆ†å‰²æäº¤ä¿¡æ¯
split_commits = false
# æäº¤è§£æå™¨
commit_parsers = [
  { message = "^feat", group = "âœ¨ æ–°åŠŸèƒ½" },
  { message = "^fix", group = "ğŸ ä¿®å¤" },
  { message = "^perf", group = "ğŸ’ ä¼˜åŒ–" },
  { message = "^refactor", group = "â™»ï¸ é‡æ„" },
  { message = "^docs?", group = "ğŸ“š æ–‡æ¡£" },
  { message = "^style", group = "ğŸ’„ æ ·å¼" },
  { message = "^test", group = "ğŸ§ª æµ‹è¯•" },
  { message = "^build", group = "ğŸ“¦ æ„å»º" },
  { message = "^security", group = "ğŸ”’ å®‰å…¨" },
  { message = "^chore\\(release\\)", skip = true },
  { message = "^chore\\(deps", skip = true },
  { message = "^chore|^ci", group = "ğŸ”§ ç»´æŠ¤" },
  { message = "^revert", group = "âª å›æ»š" },
  { message = ".*", group = "ğŸ“ å…¶ä»–" },
]

# æäº¤é¢„å¤„ç†å™¨ - æ¸…ç†æäº¤ä¿¡æ¯
commit_preprocessors = [
  # ç§»é™¤ issue ç¼–å·
  { pattern = ' #\d+$', replace = "" },
  # ç§»é™¤å¤šä½™ç©ºæ ¼
  { pattern = '\s+', replace = " " },
  # æ¸…ç† merge commit æ ¼å¼
  { pattern = '^Merge pull request #\d+ from [^\s]+', replace = "" },
  { pattern = '^Merge branch ', replace = "" },
]

# é“¾æ¥è§£æå™¨ - è‡ªåŠ¨è¯†åˆ« issue å’Œ PR é“¾æ¥
link_parsers = [
  { pattern = "#(\\d+)", href = "https://github.com/zoonderkins/cunzhi/issues/$1" },
  { pattern = "\\[([^\\]]+)\\]\\(([^)]+)\\)", text = "$1", href = "$2" },
]

# ä¿æŠ¤åˆ†æ”¯
protect_breaking_commits = false
# è¿‡æ»¤æäº¤
filter_commits = false
# æ ‡ç­¾æ¨¡å¼
tag_pattern = "v[0-9].*"
# è·³è¿‡æ ‡ç­¾
skip_tags = "v0.1.0-beta.1"
# å¿½ç•¥æ ‡ç­¾
ignore_tags = ""
# æ’åºæ–¹å¼
topo_order = false
# æ’åºæäº¤ - æœ€æ–°çš„åœ¨å‰
sort_commits = "newest"

[remote.github]
owner = "zoonderkins"
repo = "cunzhi"
